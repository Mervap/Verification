


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > ASTPrinterKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">itmo.analyzer</a>
</div>

<h1>Coverage Summary for Class: ASTPrinterKt (itmo.analyzer)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">ASTPrinterKt</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package itmo.analyzer
&nbsp;
&nbsp;import com.github.javaparser.Position
&nbsp;import com.github.javaparser.ast.*
&nbsp;import com.github.javaparser.ast.body.*
&nbsp;import com.github.javaparser.ast.comments.BlockComment
&nbsp;import com.github.javaparser.ast.comments.JavadocComment
&nbsp;import com.github.javaparser.ast.comments.LineComment
&nbsp;import com.github.javaparser.ast.expr.*
&nbsp;import com.github.javaparser.ast.modules.*
&nbsp;import com.github.javaparser.ast.stmt.*
&nbsp;import com.github.javaparser.ast.type.*
&nbsp;import com.github.javaparser.ast.visitor.VoidVisitorAdapter
&nbsp;import com.github.javaparser.printer.Printer
&nbsp;import com.github.javaparser.printer.configuration.DefaultPrinterConfiguration
&nbsp;import com.github.javaparser.printer.configuration.PrinterConfiguration
&nbsp;import java.util.*
&nbsp;import kotlin.jvm.optionals.getOrNull
&nbsp;
<b class="fc">&nbsp;fun CompilationUnit.printAST(): String = ASTPrinter().print(this)</b>
&nbsp;
&nbsp;class ASTPrinter : Printer {
&nbsp;    private var configuration: PrinterConfiguration = DefaultPrinterConfiguration()
&nbsp;
&nbsp;    override fun print(node: Node): String = buildString {
&nbsp;        node.accept(ASTPrinterVisitor(this, configuration), &quot;&quot;)
&nbsp;    }
&nbsp;
&nbsp;    override fun setConfiguration(configuration: PrinterConfiguration): Printer {
&nbsp;        this.configuration = configuration
&nbsp;        return this
&nbsp;    }
&nbsp;
&nbsp;    override fun getConfiguration(): PrinterConfiguration = configuration
&nbsp;}
&nbsp;
&nbsp;
&nbsp;/**
&nbsp; * Cannot use [VoidVisitorAdapter] - it do it in wierd order
&nbsp; */
&nbsp;private class ASTPrinterVisitor(val out: StringBuilder, val configuration: PrinterConfiguration) : VoidVisitorAdapter&lt;String&gt;() {
&nbsp;    override fun visit(n: AnnotationDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ANNOTATION_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.members.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: AnnotationMemberDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ANNOTATION_MEMBER_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.defaultValue.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ArrayAccessExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ARRAY_ACCESS_EXPRESSION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.index.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ArrayCreationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ARRAY_CREATION_EXPRESSION&quot;, arg)
&nbsp;        n.elementType.accept(childIndent)
&nbsp;        n.levels.acceptAll(childIndent)
&nbsp;        n.initializer.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ArrayInitializerExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ARRAY_INITIALIZER_EXPR&quot;, arg)
&nbsp;        n.values.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: AssertStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ASSERT_STATEMENT&quot;, arg)
&nbsp;        n.check.accept(childIndent)
&nbsp;        n.message.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: AssignExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ASSIGN_EXPRESSION&quot;, arg)
&nbsp;        n.target.accept(childIndent)
&nbsp;        n.value.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: BinaryExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;BINARY_EXPRESSION&quot;, arg, additionalInfo = n.operator.asString())
&nbsp;        n.left.accept(childIndent)
&nbsp;        n.right.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: BlockComment, arg: String) {
&nbsp;        n.appendNode(&quot;BLOCK_COMMENT&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: BlockStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;BLOCK_STATEMENT&quot;, arg)
&nbsp;        n.statements.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: BooleanLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;BOOLEAN_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: BreakStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;BREAK_STATEMENT&quot;, arg)
&nbsp;        n.label.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: CastExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CAST_EXPRESSION&quot;, arg)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.expression.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: CatchClause, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CATCH_CLAUSE&quot;, arg)
&nbsp;        n.parameter.accept(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: CharLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;CHAR_LITERAL_EXPRESSIOn&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ClassExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CLASS_EXPRESSION&quot;, arg)
&nbsp;        n.type.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ClassOrInterfaceDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CLASS_OR_INTERFACE_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.typeParameters.acceptAll(childIndent)
&nbsp;        n.extendedTypes.acceptAll(childIndent)
&nbsp;        n.implementedTypes.acceptAll(childIndent)
&nbsp;        n.members.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ClassOrInterfaceType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CLASS_OR_INTERFACE_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.scope.acceptIfPresent(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: CompilationUnit, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;JAVA_FILE&quot;, arg, additionalInfo = n.storage.getOrNull()?.fileName)
&nbsp;        n.module.acceptIfPresent(childIndent)
&nbsp;        n.packageDeclaration.acceptIfPresent(childIndent)
&nbsp;        n.imports.acceptAll(childIndent)
&nbsp;        n.types.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ConditionalExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CONDITIONAL_EXPRESSION&quot;, arg)
&nbsp;        n.condition.accept(childIndent)
&nbsp;        n.thenExpr.accept(childIndent)
&nbsp;        n.elseExpr.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ConstructorDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CONSTRUCTOR_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.typeParameters.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.receiverParameter.acceptIfPresent(childIndent)
&nbsp;        n.parameters.acceptAll(childIndent)
&nbsp;        n.thrownExceptions.acceptAll(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ContinueStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;CONTINUE_STATEMENT&quot;, arg)
&nbsp;        n.label.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: DoStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;DO_STATEMENT&quot;, arg)
&nbsp;        n.condition.accept(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: DoubleLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;DOUBLE_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: EmptyStmt, arg: String) {
&nbsp;        n.appendNode(&quot;EMPTY_STATEMENT&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: EnclosedExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ENCLOSED_EXPRESSION&quot;, arg)
&nbsp;        n.inner.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: EnumConstantDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ENUM_CONSTANT_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.arguments.acceptAll(childIndent)
&nbsp;        n.classBody.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: EnumDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ENUM_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.implementedTypes.acceptAll(childIndent)
&nbsp;        n.entries.acceptAll(childIndent)
&nbsp;        n.members.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ExplicitConstructorInvocationStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;EXPLICIT_CONSTRUCTOR_INVOCATION_STATEMENT&quot;, arg)
&nbsp;        n.expression.acceptIfPresent(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;        n.arguments.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ExpressionStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;EXPRESSION_STATEMENT&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: FieldAccessExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;FIELD_ACCESS_EXPRESSION&quot;, arg)
&nbsp;        n.scope.accept(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: FieldDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;FIELD_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.variables.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ForEachStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;FOR_EACH_STATEMENT&quot;, arg)
&nbsp;        n.variable.accept(childIndent)
&nbsp;        n.iterable.accept(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ForStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;FOR_STATEMENT&quot;, arg)
&nbsp;        n.initialization.acceptAll(childIndent)
&nbsp;        n.compare.acceptIfPresent(childIndent)
&nbsp;        n.update.acceptAll(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: IfStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;IF_STATEMENT&quot;, arg)
&nbsp;        n.condition.accept(childIndent)
&nbsp;        n.thenStmt.accept(childIndent)
&nbsp;        n.elseStmt.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: InitializerDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;INITIALIZER_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: InstanceOfExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;INSTANCE_OF_EXPRESSION&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;        val pattern = n.pattern.getOrNull()
&nbsp;        if (pattern != null) {
&nbsp;            pattern.accept(childIndent)
&nbsp;        }
&nbsp;        else {
&nbsp;            n.type.accept(childIndent)
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: IntegerLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;INTEGER_LITERAL_EXPR&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: JavadocComment, arg: String) {
&nbsp;        n.appendNode(&quot;JAVADOC_COMMENT&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LabeledStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;LABELED_STATEMENT&quot;, arg)
&nbsp;        n.label.accept(childIndent)
&nbsp;        n.statement.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LineComment, arg: String) {
&nbsp;        n.appendNode(&quot;LINE_COMMENT&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LongLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;LONG_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: MarkerAnnotationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MARKER_ANNOTATION_EXPRESSION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: MemberValuePair, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MEMBER_VALUE_PAIR&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.value.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: MethodCallExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;METHOD_CALL_EXPRESSION&quot;, arg)
&nbsp;        n.scope.acceptIfPresent(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.arguments.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: MethodDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;METHOD_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.typeParameters.acceptAll(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.receiverParameter.acceptIfPresent(childIndent)
&nbsp;        n.parameters.acceptAll(childIndent)
&nbsp;        n.thrownExceptions.acceptAll(childIndent)
&nbsp;        n.body.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: NameExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;NAME_EXPRESSION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: NormalAnnotationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;NORMAL_ANNOTATION_EXPRESSION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.pairs.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: NullLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;NULL_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ObjectCreationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;OBJECT_CREATION_EXPRESSION&quot;, arg)
&nbsp;        n.scope.acceptIfPresent(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;        n.arguments.acceptAll(childIndent)
&nbsp;        n.anonymousClassBody.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: PackageDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;PACKAGE_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: Parameter, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;PARAMETER&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.varArgsAnnotations.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: PrimitiveType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;PRIMITIVE_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: Name, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;NAME&quot;, arg, additionalInfo = n.asString())
&nbsp;        n.qualifier.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SimpleName, arg: String) {
&nbsp;        n.appendNode(&quot;SIMPLE_NAME&quot;, arg, additionalInfo = n.asString())
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ArrayType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ARRAY_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.componentType.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ArrayCreationLevel, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;ARRAY_CREATION_LEVEL&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.dimension.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: IntersectionType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;INTERSECTION_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.elements.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: UnionType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;UNION_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.elements.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ReturnStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;RETURN_STATEMENT&quot;, arg)
&nbsp;        n.expression.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SingleMemberAnnotationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SINGLE_MEMBER_ANNOTATION_EXPRESSION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.memberValue.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: StringLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;STRING_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SuperExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SUPER_EXPRESSION&quot;, arg)
&nbsp;        n.typeName.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SwitchEntry, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SWITCH_ENTRY&quot;, arg)
&nbsp;        n.labels.acceptAll(childIndent)
&nbsp;        n.statements.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SwitchStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SWITCH_STATEMENT&quot;, arg)
&nbsp;        n.selector.accept(childIndent)
&nbsp;        n.entries.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SynchronizedStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SYNCHRONIZED_STATEMENT&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ThisExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;THIS_EXPRESSION&quot;, arg)
&nbsp;        n.typeName.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ThrowStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;THROW_STATEMENT&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: TryStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;TRY_STATEMENT&quot;, arg)
&nbsp;        n.resources.acceptAll(childIndent)
&nbsp;        n.tryBlock.accept(childIndent)
&nbsp;        n.catchClauses.acceptAll(childIndent)
&nbsp;        n.finallyBlock.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LocalClassDeclarationStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;LOCAL_CLASS_DECLARATION_STATEMENT&quot;, arg)
&nbsp;        n.classDeclaration.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LocalRecordDeclarationStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;LOCAL_RECORD_DECLARATION_STATEMENT&quot;, arg)
&nbsp;        n.recordDeclaration.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: TypeParameter, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;TYPE_PARAMETER&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.typeBound.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: UnaryExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;UNARY_EXPRESSION&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: UnknownType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;UNKNOWN_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: VariableDeclarationExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;VARIABLE_DECLARATION_EXPRESSION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.variables.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: VariableDeclarator, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;VARIABLE_DECLARATOR&quot;, arg)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.initializer.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: VoidType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;VOID_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: WhileStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;WHILE_STATEMENT&quot;, arg)
&nbsp;        n.body.accept(childIndent)
&nbsp;        n.condition.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: WildcardType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;WILDCARD_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.extendedType.acceptIfPresent(childIndent)
&nbsp;        n.superType.acceptIfPresent(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: LambdaExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;LAMBDA_EXPRESSION&quot;, arg)
&nbsp;        n.parameters.acceptAll(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: MethodReferenceExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;METHOD_REFERENCE_EXPRESSION&quot;, arg, additionalInfo = n.identifier)
&nbsp;        n.scope.accept(childIndent)
&nbsp;        n.typeArguments.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: TypeExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;TYPE_EXPRESSION&quot;, arg)
&nbsp;        n.type.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ImportDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;IMPORT_DECLARATION&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_DECLARATION&quot;, arg, additionalInfo = n.name.asString())
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.directives.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleRequiresDirective, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_REQUIRES_DIRECTIVE&quot;, arg)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleExportsDirective, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_EXPORTS_DIRECTIVE&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.moduleNames.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleProvidesDirective, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_PROVIDES_DIRECTIVE&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.with.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleUsesDirective, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_USES_DIRECTIVE&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ModuleOpensDirective, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;MODULE_OPENS_DIRECTIVE&quot;, arg)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.moduleNames.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: UnparsableStmt, arg: String) {
&nbsp;        n.appendNode(&quot;UNPARSABLE_STATEMENT&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: ReceiverParameter, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;RECEIVER_PARAMETER&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: VarType, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;VAR_TYPE&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: Modifier, arg: String) {
&nbsp;        n.appendNode(&quot;MODIFIER&quot;, arg, additionalInfo = n.keyword.asString())
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: SwitchExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;SWITCH_EXPRESSION&quot;, arg)
&nbsp;        n.entries.acceptAll(childIndent)
&nbsp;        n.selector.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: TextBlockLiteralExpr, arg: String) {
&nbsp;        n.appendNode(&quot;TEXT_BLOCK_LITERAL_EXPRESSION&quot;, arg)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: YieldStmt, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;YIELD_STATEMENT&quot;, arg)
&nbsp;        n.expression.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: PatternExpr, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;PATTERN_EXPRESSION&quot;, arg)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.type.accept(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: RecordDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;RECORD_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.typeParameters.acceptAll(childIndent)
&nbsp;        n.receiverParameter.acceptIfPresent(childIndent)
&nbsp;        n.parameters.acceptAll(childIndent)
&nbsp;        n.implementedTypes.acceptAll(childIndent)
&nbsp;        n.members.acceptAll(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    override fun visit(n: CompactConstructorDeclaration, arg: String) = blockIndent(arg) { childIndent -&gt;
&nbsp;        n.appendNode(&quot;COMPACT_CONSTRUCTOR_DECLARATION&quot;, arg)
&nbsp;        n.annotations.acceptAll(childIndent)
&nbsp;        n.modifiers.acceptAll(childIndent)
&nbsp;        n.typeParameters.acceptAll(childIndent)
&nbsp;        n.name.accept(childIndent)
&nbsp;        n.thrownExceptions.acceptAll(childIndent)
&nbsp;        n.body.accept(childIndent)
&nbsp;    }
&nbsp;
&nbsp;    private fun NodeList&lt;*&gt;.acceptAll(indent: String) = forEach {
&nbsp;        it.accept(this@ASTPrinterVisitor, indent)
&nbsp;    }
&nbsp;
&nbsp;    private fun Node.accept(indent: String) {
&nbsp;        accept(this@ASTPrinterVisitor, indent)
&nbsp;    }
&nbsp;
&nbsp;    private fun Optional&lt;out Node&gt;.acceptIfPresent(indent: String) = ifPresent {
&nbsp;        it.accept(this@ASTPrinterVisitor, indent)
&nbsp;    }
&nbsp;
&nbsp;    private fun Optional&lt;out NodeList&lt;out Node&gt;&gt;.acceptAll(indent: String) = ifPresent {
&nbsp;        it.acceptAll(indent)
&nbsp;    }
&nbsp;
&nbsp;    private inline fun blockIndent(indent: String, body: (String) -&gt; Unit) {
&nbsp;        body(indent + INDENT)
&nbsp;    }
&nbsp;
&nbsp;    private fun Node.appendNode(name: String, indent: String, additionalInfo: String? = null) {
&nbsp;        comment.acceptIfPresent(indent)
&nbsp;        out.append(indent).append(name)
&nbsp;        if (additionalInfo != null) {
&nbsp;            out.append(&quot; ($additionalInfo)&quot;)
&nbsp;        }
&nbsp;        range.getOrNull()?.let { range -&gt;
&nbsp;            out.append(&quot; [${range.begin.presentation()}, ${range.end.presentation()}]&quot;)
&nbsp;        }
&nbsp;        out.appendLine()
&nbsp;    }
&nbsp;
&nbsp;    companion object {
&nbsp;        private const val INDENT = &quot;  &quot;
&nbsp;        private fun Position.presentation(): String = &quot;$line:$column&quot;
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-01-23 17:49</div>
</div>
</body>
</html>
